<div class="form-container">
  <form #empleadoForm="ngForm" (ngSubmit)="onSubmit(empleadoForm)">
    <h2>üë§ Crear Perfil de Empleado</h2>
    
    <!-- Mensaje de estado -->
    <div *ngIf="mensaje" class="mensaje" [class.success]="mensaje.includes('‚úÖ')" [class.error]="mensaje.includes('‚ùå')">
      {{ mensaje }}
    </div>

    <label for="ID_empleado">ID del empleado</label>
    <input 
  type="text" 
  id="ID_empleado" 
  name="ID_empleado" 
  [(ngModel)]="empleado.id_empleado"
  required 
  placeholder="Ej: EMP001"
  #idEmpleado="ngModel"
  pattern="EMP[0-9]{3}"
/>
<div *ngIf="idEmpleado.invalid && idEmpleado.touched" class="error">
  <span *ngIf="idEmpleado.errors?.['required']">ID del empleado es requerido</span>
  <span *ngIf="idEmpleado.errors?.['pattern']">Formato inv√°lido. Ejemplo: EMP001</span>
</div>

    <label for="nombre">Nombre completo</label>
    <input 
  type="text" 
  id="nombre" 
  name="nombre" 
  [(ngModel)]="empleado.nombre_completo"
  required 
  placeholder="Ej: Juan P√©rez Gonz√°lez"
  #nombre="ngModel"
  pattern="^[A-Za-z√Å√â√ç√ì√ö√°√©√≠√≥√∫√ë√± ]+$"
/>
<div *ngIf="nombre.invalid && nombre.touched" class="error">
  <span *ngIf="nombre.errors?.['required']">Nombre completo es requerido</span>
  <span *ngIf="nombre.errors?.['pattern']">Solo letras y espacios permitidos</span>
</div>

    <label for="usuario">Nombre de usuario</label>
    <input 
      type="text" 
      id="usuario" 
      name="usuario" 
      [(ngModel)]="empleado.usuario"
      required 
      placeholder="Ej: jperez"
      #usuario="ngModel"
    />
    <div *ngIf="usuario.invalid && usuario.touched" class="error">
      Usuario es requerido
    </div>

    <label for="contrasena">Contrase√±a</label>
    <input 
      type="password" 
      id="contrasena" 
      name="contrasena" 
      [(ngModel)]="empleado.contrasena"
      required 
      placeholder="M√≠nimo 6 caracteres"
      #contrasena="ngModel"
    />
    <div *ngIf="contrasena.invalid && contrasena.touched" class="error">
      Contrase√±a es requerida
    </div>

    <label for="telefono">Tel√©fono</label>
    <input 
  type="tel" 
  id="telefono" 
  name="telefono" 
  [(ngModel)]="empleado.telefono"
  required 
  placeholder="Ej: 5551234567"
  #telefono="ngModel"
  pattern="^[0-9]+$"
/>
<div *ngIf="telefono.invalid && telefono.touched" class="error">
  <span *ngIf="telefono.errors?.['required']">Tel√©fono es requerido</span>
  <span *ngIf="telefono.errors?.['pattern']">Solo n√∫meros permitidos</span>
</div>

    <label for="cargo">Cargo del empleado</label>
    <select 
      id="cargo" 
      name="cargo" 
      [(ngModel)]="empleado.cargo"
      required
      #cargo="ngModel"
    >
      <option value="" disabled>Seleccione un cargo</option>
      <option value="cajero">Cajero</option>
      <option value="auxiliar">Auxiliar de tienda</option>
      <option value="almacenista">Almacenista</option>
      <option value="administrador">Administrador</option>
    </select>
    <div *ngIf="cargo.invalid && cargo.touched" class="error">
      Cargo es requerido
    </div>

    <button 
      type="submit" 
      class="btn" 
      [disabled]="empleadoForm.invalid || cargando"
    >
      {{ cargando ? 'Creando...' : 'Crear Perfil' }}
    </button>
    
    <button type="button" class="btn" (click)="volver()">‚Üê Volver</button>
  </form>
</div>